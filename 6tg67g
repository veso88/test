using System;
using System.Collections.Generic;
using System.Linq;

class Program
{
    static void Main()
    {
        Console.WriteLine("Enter integers separated by spaces:");
        string input = Console.ReadLine();

        // Парсираме внесени броеви
        List<int> numbers = new List<int>();
        try
        {
            numbers = input.Split(' ')
                           .Where(s => !string.IsNullOrWhiteSpace(s))
                           .Select(int.Parse)
                           .ToList();
        }
        catch (FormatException)
        {
            Console.WriteLine("Invalid input. Please enter only integers separated by spaces.");
            return;
        }

        if (numbers.Count == 0)
        {
            Console.WriteLine("No numbers entered.");
            return;
        }

        Console.WriteLine("Numbers entered: " + string.Join(", ", numbers));

        // Средна вредност
        double mean = numbers.Average();
        Console.WriteLine($"Mean: {mean:F2}");

        // Мода
        var group = numbers.GroupBy(x => x)
                           .OrderByDescending(g => g.Count())
                           .First();
        int mode = group.Key;
        int frequency = group.Count();
        Console.WriteLine($"Mode: {mode} (appears {frequency} times)");

        // Медијана
        numbers.Sort();
        double median;
        int count = numbers.Count;
        if (count % 2 == 0)
        {
            median = (numbers[count / 2 - 1] + numbers[count / 2]) / 2.0;
        }
        else
        {
            median = numbers[count / 2];
        }
        Console.WriteLine($"Median: {median}");
    }
}
